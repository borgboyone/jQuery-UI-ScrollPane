/*
 jQuery UI ScrollPane 0.9.1
 https://github.com/borgboyone/jQuery-UI-ScrollPane

 Copyright 2017 Anthony Wells
 Released under the MIT license.
 https://raw.githubusercontent.com/borgboyone/jQuery-UI-ScrollPane/master/LICENSE

 http://borgboyone.github.io/jQuery-UI-ScrollPane/
*/
(function(h){"function"===typeof define&&define.amd?define(["jquery"],h):h(jQuery)})(function(h){h.widget("aw.scrollPane",{version:"1.0.0",options:{maintainInitialScrollPosition:!0,innerPaneClasses:"ui-scrollpane-fullwidth ui-scrollPane-autoheight",events:["mouse","wheel","keyboard"],animate:!0,scroll:void 0,wheelStep:.2,verticalScrollBar:{position:"right",visiblity:"auto",showArrows:"hidden",arrowAlignment:"ends",arrowStep:.125,handleMinimumSize:.1,handleMaximumSize:void 0,pageStep:.9,arrowClassIcons:{start:"ui-icon ui-icon-triangle-1-n",
end:"ui-icon ui-icon-triangle-1-s"}},horizontalScrollBar:{position:"bottom",visiblity:"auto",showArrows:"hidden",arrowAlignment:"ends",arrowStep:.125,handleMinimumSize:.1,handleMaximumSize:void 0,pageStep:.9,arrowClassIcons:{start:"ui-icon ui-icon-triangle-1-w",end:"ui-icon ui-icon-triangle-1-e"}}},_create:function(){this._super();!0===this.options.maintainInitialScrollPosition?(this.currentHorizontalScrollPosition=this.element.scrollLeft(),this.currentVerticalScrollPosition=this.element.scrollTop()):
this.currentHorizontalScrollPosition=this.currentVerticalScrollPosition=0;var a=this.element,d=this.outerPanelWidth=a.width(),c=this.outerPanelHeight=a.height();this.oldPosition=a.prop("style").position?a.prop("style").position:"";this.oldOverflow=a.prop("style").overflow?a.prop("style").overflow:"";this.oldTabIndex=a.attr("tabindex");a.wrapInner('<div class="ui-scrollpane-wrapper" style="position: absolute; overflow: hidden; width: '+this.outerPanelWidth+"px; height: "+this.outerPanelHeight+'px;"><div class="ui-scrollpane-inner ui-scrollable-area '+
this.options.innerPaneClasses+'" style="position: absolute;">').append('<div class="ui-scrollpane-scrollbar ui-scrollpane-scrollbar-vertical ui-scrollbar ui-scrollbar-vertical ui-helper-hidden" style="position: absolute;"><div class="ui-scrollpane-scrollbar-vertical-arrow-up ui-scrollbar-arrow ui-scrollbar-arrow-start'+("visible"==this.options.verticalScrollBar.showArrows?"":" ui-helper-hidden")+'"><span class="'+this.options.verticalScrollBar.arrowClassIcons.start+'"></span></div><div class="ui-scrollpane-scrollbar-vertical-track ui-scrollbar-track"><div class="ui-scrollpane-scrollbar-vertical-track-scrollhandle ui-scrollbar-scrollhandle"></div></div><div class="ui-scrollpane-scrollbar-vertical-arrow-down ui-scrollbar-arrow ui-scrollbar-arrow-end'+
("visible"==this.options.verticalScrollBar.showArrows?"":" ui-helper-hidden")+'"><span class="'+this.options.verticalScrollBar.arrowClassIcons.end+'"></span></div></div>').append('<div class="ui-scrollpane-scrollbar ui-scrollpane-scrollbar-horizontal ui-scrollbar ui-scrollbar-horizontal ui-helper-hidden" style="position: absolute;"><div class="ui-scrollpane-scrollbar-horizontal-arrow-left ui-scrollbar-arrow ui-scrollbar-arrow-start'+("visible"==this.options.horizontalScrollBar.showArrows?"":" ui-helper-hidden")+
'"><span class="'+this.options.horizontalScrollBar.arrowClassIcons.start+'"></span></div><div class="ui-scrollpane-scrollbar-horizontal-track ui-scrollbar-track"><div class="ui-scrollpane-scrollbar-horizontal-track-scrollhandle"></div></div><div class="ui-scrollpane-scrollbar-horizontal-arrow-right ui-scrollbar-arrow ui-scrollbar-arrow-end'+("visible"==this.options.horizontalScrollBar.showArrows?"":" ui-helper-hidden")+'"><span class="'+this.options.horizontalScrollBar.arrowClassIcons.end+'"></span></div></div>').addClass("ui-scrollpane ui-scrollable").css({position:"absolute"==
a.css("position")?"absolute":"relative",overflow:"hidden"}).data("ui-scrollable",this);var e=this.$innerPanel=a.find(".ui-scrollpane-inner"),a=e.outerWidth(),e=e.outerHeight();if(!0===this.options.maintainInitialScrollPosition){var b;0<this.currentVerticalScrollPosition&&(b=Math.max(e-c,0),this.currentVerticalScrollPosition=0<b?Math.min(this.currentVerticalScrollPosition/b,1):0);0<this.currentHorizontalScrollPosition&&(b=Math.max(a-d,0),this.currentHorizontalScrollPosition=0<b?Math.min(this.currentHorizontalScrollPosition/
b,1):0)}this.verticalScrollBarVisible=this.horizontalScrollBarVisible=!1;this._events();this._update(d,c,a,e,d,c)},_verticalScrollBarWidth:function(){if("never"==this.options.verticalScrollBar.visiblity)return 0;var a=this.element.find(".ui-scrollpane-scrollbar-vertical").clone().css({position:"absolute",visiblity:"hidden"}).removeClass("ui-helper-hidden").appendTo("body"),d=a.outerWidth();a.remove();return d},_horizontalScrollBarHeight:function(){if("never"==this.options.horizontalScrollBar.visiblity)return 0;
var a=this.element.find(".ui-scrollpane-scrollbar-horizontal").clone().css({position:"absolute",visiblity:"hidden"}).removeClass("ui-helper-hidden").appendTo("body"),d=a.outerHeight();a.remove();return d},_events:function(){var a=this.element,d=this.$innerPanel,c=a.find("> .ui-scrollpane-wrapper"),e=this;this._on(a.find(".ui-scrollpane-scrollbar-vertical-track-scrollhandle, .ui-scrollpane-scrollbar-horizontal-track-scrollhandle"),{click:function(a){a.preventDefault();a.stopPropagation()}});this._on(a.find(".ui-scrollpane-scrollbar-vertical-track"),
{click:function(k){k.preventDefault();k.stopPropagation();var b=c.outerHeight()*this.options.verticalScrollBar.pageStep;k.offsetY>a.find(".ui-scrollpane-scrollbar-vertical-track-scrollhandle").position().top||(b=-b);this._verticalPosition(-d.position().top+b,k)}});var b=null,g=null,f=function(a){var b=c.outerHeight()*e.options.verticalScrollBar.arrowStep;h(a.target).closest(".ui-scrollbar-arrow").hasClass("ui-scrollbar-arrow-start")&&(b=-b);e._verticalPosition(-d.position().top+b,a)},p=function(a){var b=
c.outerWidth()*e.options.horizontalScrollBar.arrowStep;h(a.target).closest(".ui-scrollbar-arrow").hasClass("ui-scrollbar-arrow-start")&&(b=-b);e._horizontalPosition(-d.position().left+b,a)};"visible"==this.options.verticalScrollBar.showArrows&&this._on(a.find(".ui-scrollpane-scrollbar-vertical .ui-scrollbar-arrow"),{mousedown:function(a){a.preventDefault();a.stopPropagation();f(a);b=window.setTimeout(g=function(a,k){var c=function(){f(a);0!=k.currentVerticalScrollPosition&&1!=k.currentVerticalScrollPosition&&
(b=window.setTimeout(c,150))};return c}(a,e),250);this._on(this.document,{mouseup:function(a){null!==b&&(clearTimeout(b),b=null,this._off(this.document))}})},mouseup:function(a){a.preventDefault();a.stopPropagation();null!==b&&(clearTimeout(b),b=null,this._off(this.document))},mouseout:function(a){null===b||b instanceof jQuery||(clearTimeout(b),b=h(a.target))},mouseenter:function(a){null!==b&&h(a.target).is(b)&&g()}});a.find(".ui-scrollpane-scrollbar-vertical-track-scrollhandle").draggable({axis:"y",
containment:a.find(".ui-scrollpane-scrollbar-vertical-track"),drag:function(b,m){var k=c.outerHeight(),f=d.outerHeight(),g=a.find(".ui-scrollpane-scrollbar-vertical .ui-scrollpane-scrollbar-vertical-track").height(),h=a.find(".ui-scrollpane-scrollbar-vertical-track-scrollhandle").outerHeight();e._verticalPosition((0==m.position.top?0:m.position.top/(g-h))*(f-k),b)},stop:function(){a.focus()}});this._on(a.find(".ui-scrollpane-scrollbar-horizontal-track"),{click:function(b){b.preventDefault();b.stopPropagation();
var k=c.outerWidth()*this.options.horizontalScrollBar.pageStep,d=a.find(".ui-scrollpane-inner");b.offsetX>a.find(".ui-scrollpane-scrollbar-horizontal-track-scrollhandle").position().left||(k=-k);this._horizontalPosition(-d.position().left+k,b)}});"visible"==this.options.horizontalScrollBar.showArrows&&this._on(a.find(".ui-scrollpane-scrollbar-horizontal .ui-scrollbar-arrow"),{mousedown:function(a){a.preventDefault();a.stopPropagation();p(a);b=window.setTimeout(g=function(a,c){var k=function(){p(a);
0!=c.currentHorizontalScrollPosition&&1!=c.currentHorizontalScrollPosition&&(b=window.setTimeout(k,150))};return k}(a,e),250);this._on(this.document,{mouseup:function(a){null!==b&&(clearTimeout(b),b=null,this._off(this.document))}})},mouseup:function(a){a.preventDefault();a.stopPropagation();null!==b&&(clearTimeout(b),b=null,this._off(this.document))},mouseout:function(a){null===b||b instanceof jQuery||(clearTimeout(b),b=h(a.target))},mouseenter:function(a){null!==b&&h(a.target).is(b)&&g()}});a.find(".ui-scrollpane-scrollbar-horizontal-track-scrollhandle").draggable({axis:"x",
containment:a.find(".ui-scrollpane-scrollbar-horizontal-track"),drag:function(b,m){var k=c.outerWidth();d.outerHeight();var f=a.find(".ui-scrollpane-scrollbar-horizontal .ui-scrollpane-scrollbar-horizontal-track").width(),g=a.find(".ui-scrollpane-scrollbar-horizontal-track-scrollhandle").outerWidth();e._horizontalPosition((0==m.position.left?0:m.position.left/(f-g))*(innerPanelWidth-k),b)},stop:function(){a.focus()}});this._on(c,{mousewheel:function(a,b,e,f){b=a.deltaFactor?-d.position().top+-f*a.deltaFactor:
(-f*this.options.wheelStep+this.currentVerticalScrollPosition)*(d.outerHeight()-c.outerHeight());this._verticalPosition(b,a)}});this._on(a.find(".ui-scrollpane-scrollbar-vertical-track"),{mousewheel:function(a,b,c,d){a.stopPropagation()}});if(h.isArray(this.options.events)&&-1!==this.options.events.indexOf("keyboard")||"keyboard"==this.options.events){"undefined"===typeof this.oldTabIndex&&a.attr("tabindex",-1);var l=function(a){if(this.verticalScrollBarVisible)switch(a.keyCode){case h.ui.keyCode.PAGE_DOWN:if(1!==
this.currentVerticalScrollPosition){var b=c.outerHeight(),b=b*this.options.verticalScrollBar.pageStep;this._verticalPosition(-d.position().top+b,a);return!0}break;case h.ui.keyCode.DOWN:if(1!==this.currentVerticalScrollPosition)return b=c.outerHeight(),b*=e.options.verticalScrollBar.arrowStep,this._verticalPosition(-d.position().top+b,a),!0;break;case h.ui.keyCode.UP:if(0!==this.currentVerticalScrollPosition)return b=c.outerHeight(),b*=e.options.verticalScrollBar.arrowStep,this._verticalPosition(-d.position().top-
b,a),!0;break;case h.ui.keyCode.PAGE_UP:if(0!==this.currentVerticalScrollPosition)return b=c.outerHeight(),b*=this.options.verticalScrollBar.pageStep,this._verticalPosition(-d.position().top-b,a),!0;break;case h.ui.keyCode.HOME:if(0!==this.currentVerticalScrollPosition)return this._verticalPosition(0,a),!0;break;case h.ui.keyCode.END:if(1!==this.currentVerticalScrollPosition)return this._verticalPosition(d.outerHeight()-c.height(),a),!0}if(this.horizontalScrollBarVisible)switch(a.keyCode){case h.ui.keyCode.LEFT:if(0!==
this.currentHorizontalScrollPosition)return b=c.outerWidth(),b*=e.options.horizontalScrollBar.arrowStep,this._horizontalPosition(-d.position().left-b,a),!0;break;case h.ui.keyCode.RIGHT:if(1!==this.currentHorizontalScrollPosition)return b=c.outerWidth(),b*=e.options.horizontalScrollBar.arrowStep,this._horizontalPosition(-d.position().left+b,a),!0}return!1};this._on(a,{keydown:function(a){l.call(this,a)&&(a.preventDefault(),a.stopPropagation())}})}},_verticalPosition:function(a,d){if(this.verticalScrollBarVisible){var c=
this.element,e=c.find("> .ui-scrollpane-wrapper").outerHeight(),b=this.$innerPanel,g=b.outerHeight(),f=this._constrain(a,0,g-e);f!=-b.position().top&&(this.currentVerticalScrollPosition=0==f?0:f/(g-e),c=c.find(".ui-scrollpane-scrollbar-vertical-track"),e=c.find(".ui-scrollpane-scrollbar-vertical-track-scrollhandle"),e.css("top",(c.height()-e.outerHeight())*this.currentVerticalScrollPosition),!0===this.options.animate?b.finish().animate({top:-f},"fast"):b.css("top",-f),this._updateVerticalArrows(),
d&&this._trigger("scroll",d,{axis:"y",scrollY:f,scrollX:void 0}))}},_horizontalPosition:function(a,d){if(this.horizontalScrollBarVisible){var c=this.element,e=c.find("> .ui-scrollpane-wrapper").outerWidth(),b=this.$innerPanel,g=b.outerWidth(),f=this._constrain(a,0,g-e);f!=-b.position().left&&(this.currentHorizontalScrollPosition=0==f?0:f/(g-e),c=c.find(".ui-scrollpane-scrollbar-horizontal-track"),e=c.find(".ui-scrollpane-scrollbar-horizontal-track-scrollhandle"),e.css("left",(c.width()-e.outerWidth())*
this.currentHorizontalScrollPosition),!0===this.options.animate?b.finish().animate({left:-f},"fast"):b.css("left",-f),this._updateHorizontalArrows(),d&&this._trigger("scroll",d,{axis:"y",scrollY:void 0,scrollX:f}))}},_updateVerticalArrows:function(){var a=this.element;"visible"===this.options.verticalScrollBar.showArrows&&(a.find(".ui-scrollpane-scrollbar-vertical .ui-scrollbar-arrow-start").toggleClass("ui-state-disabled",0==this.currentVerticalScrollPosition),a.find(".ui-scrollpane-scrollbar-vertical .ui-scrollbar-arrow-end").toggleClass("ui-state-disabled",
1==this.currentVerticalScrollPosition))},_updateHorizontalArrows:function(){var a=this.element;"visible"===this.options.horizontalScrollBar.showArrows&&(a.find(".ui-scrollpane-scrollbar-horizontal .ui-scrollbar-arrow-start").toggleClass("ui-state-disabled",0==this.currentHorizontalScrollPosition),a.find(".ui-scrollpane-scrollbar-horizontal .ui-scrollbar-arrow-end").toggleClass("ui-state-disabled",1==this.currentHorizontalScrollPosition))},refresh:function(){var a=this.element,d=a.width(),c=a.height(),
e=this.outerPanelWidth!==d||this.outerPanelHeight!==c,b=this.$innerPanel,g;if(e){var f=d-this.isShowingVerticalScrollBar()?widthofit:0,h=c-this.isShowingHorizontalScrollBar()?heightofit:0;a.find("jquery-ui-scrollpane-wrapper").css({width:wrappWidth,height:h})}a=b.outerWidth();b=b.outerHeight();g=this.innerPanelWidth!==a||this.innerPaneHeight!==innerPaneHeight;if(e||g)this.outerPanelWidth=d,this.outerPanelHeight=c,this._update(d,c,a,b,f,h)},_isNeededVerticalScrollBar:function(a,d,c,e,b,g){return d-
(a<c?this._horizontalScrollBarHeight:0)<e},_isNeededHorizontalScrollBar:function(a,d,c,e,b,g){return b<c},_update:function(a,d,c,e,b,g){var f=this.element,h=this.$innerPanel,l=f.find("> .ui-scrollpane-wrapper"),k=this._isNeededVerticalScrollBar(a,d,c,e,b,g);k!==this.verticalScrollBarVisible&&(b=a-(k?this._verticalScrollBarWidth():0),l.css("width",b),c=h.outerWidth(),e=h.outerHeight());this.innerPanelWidth=c;this.innerPanelHeight=e;var m=this._isNeededHorizontalScrollBar(a,d,c,e,b,g);m!==this.horizontalScrollBarVisible&&
(g=d-(m?this._horizontalScrollBarHeight():0),l.css("height",g));if(k){var n=e/d;this._updateVerticalArrows();f.find(".ui-scrollpane-scrollbar-vertical").css({left:b,width:this._verticalScrollBarWidth(),height:g});this.verticalScrollBarVisible||f.find(".ui-scrollpane-scrollbar-vertical").removeClass("ui-helper-hidden");l=f.find(".ui-scrollpane-scrollbar-vertical .ui-scrollpane-scrollbar-vertical-track").height();n=this._constrain(Math.ceil(1/n*l),this.options.verticalScrollBar.handleMinimumSize,Math.min("undefined"===
typeof this.options.verticalScrollBar.handleMaximumSize?l:this.options.verticalScrollBar.handleMaximumSize,l));l=(l-n)*this.currentVerticalScrollPosition;f.find(".ui-scrollpane-scrollbar-vertical-track-scrollhandle").css({top:l,height:n})}else f.find(".ui-scrollpane-scrollbar-vertical").addClass("ui-helper-hidden"),this.currentVerticalScrollPosition=0;this.verticalScrollBarVisible=k;m?(k=c/a,this._updateHorizontalArrows(),f.find(".ui-scrollpane-scrollbar-horizontal").css({top:g,width:b,height:this._horizontalScrollBarHeight()}),
this.horizontalScrollBarVisible||f.find(".ui-scrollpane-scrollbar-horizontal").removeClass("ui-helper-hidden"),b=f.find(".ui-scrollpane-horizontal-scrollbar .ui-scrollpane-scrollbar-horizontal-track").width(),g=this._constrain(Math.ceil(1/k*b),this.options.horizontalScrollBar.handleMinimumSize,Math.min("undefined"===typeof this.options.horizontalScrollBar.handleMaximumSize?b:this.options.HorizontalScrollBar.handleMaximumSize,b)),b=(b-g)*this.currentHorizontalScrollPosition,f.find(".ui-scrollpane-scrollbar-horizontal-track-scrollhandle").css({left:b,
width:g})):this.horizontalScrollBarVisible&&(f.find(".ui-scrollpane-scrollbar-horizontal").addClass("ui-helper-hidden"),this.currentHorizontalScrollPosition=0);this.horizontalScrollBarVisible=m;h.css({left:Math.floor(this.currentHorizontalScrollPosition*(a-c)),top:Math.floor(this.currentVerticalScrollPosition*(d-e))})},_constrain:function(a,d,c){return a<d?d:a>c?c:a},_destroy:function(){this.element.attr("tabindex",this.oldTabIndex).removeData("ui-scrollable").css({overflow:this.oldOverflow,position:this.oldPosition}).removeClass("ui-scrollpane ui-scrollable").remove(".ui-scrollpane-scrollbar").find(".ui-scrollpane-inner").unwrap().contents().unwrap();
this._super()},inScrollableArea:function(a){return 0<this.element.find(".ui-scrollable-area").has(a).length},scrollTop:function(a){if("undefined"===typeof a)return-this.element.find(".ui-scrollable-area").position().top;this._verticalPosition(a)},scrollLeft:function(a){if("undefined"===typeof a)return-this.element.find(".ui-scrollable-area").position().left;this._horizontalPosition(a)},scrollHeight:function(){return this.$innerPanel.outerHeight()},scrollWidth:function(){return this.$innerPanel.outerWidth()}})});